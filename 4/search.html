<!DOCTYPE html>
<html>
<head>
    <title>4</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div id="results">

</div>
<script>

    const params = new URLSearchParams(location.search);
    const q = params.get("q");

    fetch(`/api/search?q=${q}`)
        .then(response => response.json())
        .then(data => {
            const items = data.items;
            items.forEach((item) => {
                let result = document.createElement('div');

                let resultLink = document.createElement('a');
                resultLink.innerHTML = item.title;
                resultLink.href = item.link;

                let resultDesc = document.createElement('p');
                resultDesc.innerHTML = item.snippet;

                let resultURL = document.createElement('p');
                resultURL.innerHTML = item.link;

                let resultDomain = document.createElement('p');
                resultDomain.innerHTML = item.displayLink;



                result.append(resultLink);
                result.append(resultDesc);
                result.append(resultURL);
                result.append(resultDomain);
                document.querySelector("#results").append(result);
            })
        })

</script>
</body>
</html>